{% extends "base.html" %}

{% block content %}


<div class="container-fluid no-gutters justify-content-center d-flex ps-0 pe-0 h-100">
    <!-- Main content -->
    <div class="col-8">
        <div class="p-1 m-3">
            <h1 class="text-light">Server Listings</h1>
        </div>
        {% for item in server_listings %}
        <div class="d-flex p-1 m-3 bg-1 rounded-3">
            <div class="p-1 position-relative overflow-hidden">
                {% if "placeholder" in item.logo.url %}
                <img class="myimg" src="https://codeinstitute.s3.amazonaws.com/fullstack/blog/default.jpg">
                {% else %}
                <img class="myimg" src=" {{ item.logo.url }}">
                {% endif %}
            </div>
            <div class="p-1">
                <a href="{% url 'server' item.slug %}" class="text-decoration-none"><h5 class="text-light">{{ item.title }}</h5></a>
                <p class="text-light">{{ item.short_description }}</p>
                <p class="text-light">Tags:
                    {% for tag in item.tags.all %}
                    <span class="tag rounded-end text-light me-1 p-1">{{ tag }}</span>
                    {% endfor %}
                </p>
                <p class="text-aqua"><span class="bumps">{{ item.number_of_bumps }} Bumps</span></p>

            </div>
        </div>
        {% endfor %}
    </div>
    <!-- Sidebar -->
    <div class="col-4 bg-3 me-0 text-light ps-3 pt-3">
        <h3>Filter search</h3>
        <h4>Tag selected</h4>
        {% for selected_tag in selected_tags %}
        <a class="btn btn-primary m-1" href="{% url 'server-list-wth-tags' slug 'R%'|add:selected_tag|add:tag_string %}" role="button">{{ selected_tag }}</a>
        {% endfor %}
        <h4>Select Tags</h4>
        {% for tag in tags %}
        <a class="btn btn-primary m-1" href="{% url 'server-list-wth-tags' slug 'A%'|add:tag.name|add:tag_string %}" role="button">{{ tag.name }}</a>
        {% endfor %}
    </div>
</div>



{%endblock%}